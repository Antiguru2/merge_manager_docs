# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ merge_manager

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
`merge_manager` –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ —Å–ª–æ–∏—Å—Ç–æ–π –º–æ–¥–µ–ª–∏:
- **Configuration Layer** ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, —Å—á–∏—Ç—ã–≤–∞–µ–º—ã–µ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- **Service Layer** ‚Äî –µ–¥–∏–Ω—ã–π `MergeService`, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å–ª–∏—è–Ω–∏—è, dry-run —Ä–µ–∂–∏–º–æ–º –∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–º —Å–≤—è–∑–µ–π.
- **Persistence Layer** ‚Äî –º–æ–¥–µ–ª—å `MergeOperation` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ContentType –¥–ª—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π.
- **Presentation Layer** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π (UI –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–ª–∏—è–Ω–∏–π –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ).

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
1. `settings.MergeManagerSettings` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.
2. `config.MergeProfileRegistry` ‚Äî —è–¥—Ä–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞.
3. `services.merge.MergeService` ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å–ª–∏—è–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ soft-delete, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç—á—ë—Ç–∞.
4. `services.strategies` ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
5. `models.MergeOperation` ‚Äî –∂—É—Ä–Ω–∞–ª —Å–ª–∏—è–Ω–∏–π —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏–π.
6. `admin.MergeOperationAdmin` ‚Äî —É–¥–æ–±–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∂—É—Ä–Ω–∞–ª–∞ –∏ –ø–æ–∏—Å–∫ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º.

## üîÑ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
```
Django settings  ‚îÄ‚îÄ> MergeManagerConfig.ready() ‚îÄ‚îÄ> load_profiles_from_settings()
                                             ‚îÇ
                                             ‚ñº
                                    MergeProfileRegistry
                                             ‚îÇ
                                             ‚ñº
                              MergeService.merge(target, donor, ...)
                                             ‚îÇ
                                             ‚îú‚îÄ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–ª–µ–π
                                             ‚îú‚îÄ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —Å–≤—è–∑–∏ –∏ soft-delete
                                             ‚îî‚îÄ –ø–∏—à–µ—Ç MergeOperation
```

## üìù –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏—è ‚Äî –≤ [decisions.md](decisions.md).
